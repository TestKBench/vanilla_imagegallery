{% extends "base.html" %}

{% block content %}
<div class="gallery-container">
    <!-- Controls -->
    <div class="controls">
        <div class="search-controls">
            <input type="text" id="searchInput" placeholder="Search images..." class="search-input">
            <select id="tagFilter" class="tag-filter">
                <option value="">All Tags</option>
            </select>
        </div>
        <button id="uploadBtn" class="btn btn-primary">Upload Image</button>
    </div>

    <!-- Image Grid -->
    <div id="imageGrid" class="image-grid">
        <div class="loading">Loading images...</div>
    </div>
</div>

<!-- Upload Modal -->
<div id="uploadModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Upload Image</h2>
        <form id="uploadForm" enctype="multipart/form-data">
            <div class="form-group">
                <label for="imageFile">Select Image:</label>
                <input type="file" id="imageFile" name="file" accept="image/*" required>
            </div>
            <div class="form-group">
                <label for="imageTitle">Title:</label>
                <input type="text" id="imageTitle" name="title" required>
            </div>
            <div class="form-group">
                <label for="imageDescription">Description:</label>
                <textarea id="imageDescription" name="description" rows="3"></textarea>
            </div>
            <div class="form-group">
                <label for="imageTags">Tags (comma-separated):</label>
                <input type="text" id="imageTags" name="tags" placeholder="nature, landscape, sunset">
            </div>
            <button type="submit" class="btn btn-primary">Upload</button>
        </form>
    </div>
</div>

<!-- Image Preview Modal -->
<div id="previewModal" class="modal">
    <div class="modal-content modal-large">
        <span class="close">&times;</span>
        <div class="preview-content">
            <img id="previewImage" src="" alt="">
            <div class="preview-details">
                <h3 id="previewTitle"></h3>
                <p id="previewDescription"></p>
                <div id="previewTags" class="tag-list"></div>
                <p class="preview-date" id="previewDate"></p>
                <div id="previewActions" class="preview-actions">
                    <button id="editImageBtn" class="btn btn-secondary">Edit</button>
                    <button id="deleteImageBtn" class="btn btn-danger">Delete</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Edit Modal -->
<div id="editModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Edit Image</h2>
        <form id="editForm">
            <div class="form-group">
                <label for="editTitle">Title:</label>
                <input type="text" id="editTitle" name="title" required>
            </div>
            <div class="form-group">
                <label for="editDescription">Description:</label>
                <textarea id="editDescription" name="description" rows="3"></textarea>
            </div>
            <div class="form-group">
                <label for="editTags">Tags (comma-separated):</label>
                <input type="text" id="editTags" name="tags" placeholder="nature, landscape, sunset">
            </div>
            <div class="form-actions">
                <button type="submit" class="btn btn-primary">Save Changes</button>
                <button type="button" id="cancelEdit" class="btn btn-secondary">Cancel</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}